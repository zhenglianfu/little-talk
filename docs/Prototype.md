# 原型与继承

## 原型和类的作用


## prototype vs class

### class-based
基于类的面向对象语言(Java、C++)，通常有着两个不同的概念：类和对象。

- 类：是某种对象上的特征属性的集合；或者，反过来说，通过定义一组属性集合来描述某种对象。类是抽象的，并不代表某个具体的个体对象，
例如`Employee`类可以表示所有的员工，而非某一个具体的员工。

- 实例：是类的实例化，具象化。实例拥有父类中定义的属性。

### prototype-based
基于原型的语言，没有类和对象的严格区分，它都用对象来表示。把一个对象用作创建其他对象的模板，从这个对象上得到初始属性，这个对象被称作原型对象。
任何对象都可以拥有自己独有的属性，不仅仅是从原型对象里来的；任何对象也可以作为原型对象，被其他对象引用，共享它上面的属性。

### 定义class
- 在基于类的语言中，构造函数和属性定义是分开的，你可以定义特殊的，被成为构造函数的方法，来创建和初始化类实例，给属性赋值。构造函数并不声明对象的属性或方法，属性和方法都定义在类模板中。
通过new操作符调用对应的构造函数，创建类实例。

- JS也有构造函数，但是构造函数和属性定义不是分开的，在构造函数中，你需要定义对象属性，初始化属性值。构造函数是个普通函数，任意的JS函数都可以用作构造函数(ES6的箭头函数除外)。

> 在ES6版本中，定义了class语法，和基于类的语言一样，可以分开定义constructor和属性。但这只是语法糖，在内部依旧还是使用prototype来实现的。

### 子类和继承
- 基于类的语言中，通过类的定义来构造出类的层级结构。在定义时可以让当前的类作为其他类的子类。子类自动继承父类的所有属性和方法，可以添加自己的属性和方法，可以重写父类的属性或方法。

- JS通过构造函数和原型对象的关联来构造继承关系。以Employee-Manager举例，首先需要创建`Employee`构造函数，定义`Employee`需要的属性。然后定义Manager构造函数，需要先调用`Employee`构造函数，
然后定义Manager自己的属性。最后需要将一个从Employee.prototype派生的对象，赋值给Manager.prototype（可以使用Object.create或是new Employee），构造出原型链。

## 原型属性和自有属性
hasOwnProperty
Object.keys

## 修改对象的原型
__proto__     ecma262中并没有定义
getPrototype  es5
setPrototype  es6

### prototype-based

## 利用原型实现继承

instanceof
Symbol.hasInstance

## 继承Array的问题
不用class extends：
arr[0] = 1; // 没有array的默认行为，和普通对象的表现一致。
arr.length; // 0
Array.isArray
instanceof 
